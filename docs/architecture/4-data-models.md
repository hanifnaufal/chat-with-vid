# 4. Data Models
This model uses the Chat name for the project's domain, while making the underlying data structure flexible for future providers.

### Chat
- **Purpose**: This model represents a single, complete analysis session for one source (initially, a YouTube video).

- **Key Attributes**:
    - `id`: `UUID`
    - `source_url`: `TEXT NOT NULL`
    - `source_type`: `VARCHAR(50) NOT NULL` (e.g., 'YOUTUBE')
    - `video_id`: `VARCHAR(255)`
    - `status`: `VARCHAR` - The processing status (e.g., processing, complete, failed). 
    - `title`: `TEXT` - The video's title. 
    - `channel_name`: `VARCHAR` - The name of the YouTube channel. 
    - `publication_date`: `TIMESTAMP` - The date the video was published. 
    - `view_count`: `INTEGER` - The number of views the video has. 
    - `thumbnail_url`: `TEXT` - The URL for the video's thumbnail image. 
    - `transcript`: `TEXT` - The full transcript of the video. 
    - `generated_summary`: `TEXT` - The initial summary generated by the LLM. 
    - `actionable_items`: `JSONB` - A list of actionable items extracted by the LLM. 
    - `suggested_questions`: `JSONB` - A list of suggested questions generated by the LLM. 
    - `created_at`: `TIMESTAMP` - Timestamp of when the record was created.
    - `updated_at`: `TIMESTAMP` - Timestamp of the last update.

- **Relationships**: Has a one-to-many relationship with the ChatMessage model.

### ChatMessage
- **Purpose**: Stores a single message within a conversation.

- **Key Attributes**:
    - `id`: `UUID` - The primary key for the message.
    - `chat_id`: `UUID` - A foreign key linking to the Chat model.
    - `role`: `VARCHAR` - The author of the message (e.g., 'user' or 'ai').
    - `content`: `TEXT` - The text content of the message.
    - `created_at`: `TIMESTAMP` - Timestamp of when the message was created.

- **Relationships**: Belongs to one Chat model.
